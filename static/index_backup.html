<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ËæπÁºòËÆ°ÁÆóÊ†áÂÆöÊµãËØïÁ≥ªÁªü</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    
    <!-- Èò≤ÁºìÂ≠òÁöÑmetaÊ†áÁ≠æ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <div class="page-header">
            <div class="language-switcher">
                <select id="languageSelect" class="language-select">
                    <option value="zh">‰∏≠Êñá</option>
                    <option value="en">English</option>
                </select>
            </div>
            <h1 class="page-title" data-i18n="title">ËæπÁºòËÆ°ÁÆóÊ†áÂÆöÊµãËØïÁ≥ªÁªü</h1>
            <p class="page-subtitle" data-i18n="subtitle">Edge Computing Calibration Test System</p>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h2 class="card-title" data-i18n="video_monitoring">ËßÜÈ¢ëÊµÅ</h2>
                <div id="status" class="status-panel" data-i18n="status_connecting">Áä∂ÊÄÅ: Ê≠£Âú®ËøûÊé•ÊúçÂä°Âô®...</div>
            </div>
            
            <div class="grid grid-2">
                <div>
                    <div class="video-container">
                        <img id="video" alt="Video Stream" style="max-width: 100%; height: auto; border-radius: 8px;">
                        <div class="fullscreen-container">
                            <button id="fullscreenBtn" class="fullscreen-btn" title="ÂÖ®Â±èÊòæÁ§∫">
                                <span>‚õ∂</span>
                            </button>
                        </div>
                        
                        <!-- Ê∑ªÂä†ÊµÆÂä®ÁöÑÁõ∏Êú∫Ê†°Ê≠£ÊéßÂà∂Èù¢Êùø -->
                        <div id="floatingCorrectionPanel" class="floating-correction-panel" style="display: none;">
                            <div class="panel-header">
                                <span class="panel-title">üì∑ Áõ∏Êú∫Ê†°Ê≠£ÊéßÂà∂</span>
                                <button id="closeCorrectionPanel" class="close-btn">√ó</button>
                            </div>
                            <div class="panel-content">
                                <div class="correction-toggle-row">
                                    <label class="switch-container">
                                        <input type="checkbox" id="floatingEnableCameraCorrectionToggle" disabled>
                                        <span class="switch-slider"></span>
                                        <span class="switch-label" data-i18n="enable_camera_correction">ÂêØÁî®Áõ∏Êú∫Ê†°Ê≠£</span>
                                    </label>
                                    <div id="floatingCorrectionStatus" class="correction-status">
                                        <span class="status-text" data-i18n="correction_inactive">Ê†°Ê≠£Êú™ÊøÄÊ¥ª</span>
                                    </div>
                                </div>
                                <div class="correction-info">
                                    <div class="info-item">
                                        <span class="info-label">Ê†°Ê≠£Áä∂ÊÄÅ:</span>
                                        <span id="correctionEffectDisplay" class="info-value">Êú™Áü•</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">Â§ÑÁêÜÂª∂Ëøü:</span>
                                        <span id="correctionLatency" class="info-value">--ms</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ËßÜÈ¢ëÊµÅÊéßÂà∂ÊµÆÂä®ÊåâÈíÆ -->
                        <div class="video-overlay-controls">
                            <button id="showCorrectionPanelBtn" class="overlay-btn correction-btn" title="ÊòæÁ§∫Áõ∏Êú∫Ê†°Ê≠£ÊéßÂà∂">
                                üì∑
                            </button>
                        </div>
                    </div>
                    
                    <div class="stats">
                        <div class="stat">
                            <span class="stat-label" data-i18n="fps">FPS</span>
                            <span id="fps" class="stat-value">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label" data-i18n="resolution">ÂàÜËæ®Áéá</span>
                            <span id="resolution" class="stat-value">-</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label" data-i18n="latency">Â∏ßÈó¥Èöî</span>
                            <span id="latency" class="stat-value">-</span>
                        </div>
                    </div>
                    
                    <!-- Ê†áÂÆöÂèÇÊï∞ËÆæÁΩÆÂå∫Âüü - ÁßªÂà∞ËßÜÈ¢ë‰∏ãÊñπ -->
                    <div class="calibration-params-section">
                        <h4 class="mb-2" data-i18n="calibration_parameters">Ê†áÂÆöÂèÇÊï∞ËÆæÁΩÆ</h4>
                        
                        <!-- ‰∏§Ë°åÂèÇÊï∞Â∏ÉÂ±Ä -->
                        <div class="parameter-rows">
                            <!-- Á¨¨‰∏ÄË°åÔºöÂü∫Á°ÄÂèÇÊï∞ -->
                            <div class="parameter-row">
                                <div class="form-group compact">
                                    <label class="form-label" data-i18n="corner_width">ÂÜÖËßíÁÇπÂÆΩÂ∫¶</label>
                                    <input type="number" id="boardWidthInput" value="8" class="form-control compact" min="3" max="20" />
                                </div>
                                <div class="form-group compact">
                                    <label class="form-label" data-i18n="corner_height">ÂÜÖËßíÁÇπÈ´òÂ∫¶</label>
                                    <input type="number" id="boardHeightInput" value="5" class="form-control compact" min="3" max="20" />
                                </div>
                                <div class="form-group compact">
                                    <label class="form-label" data-i18n="square_size">ÊñπÊ†ºÂ§ßÂ∞è(mm)</label>
                                    <input type="number" id="squareSizeInput" value="30" class="form-control compact" min="5" max="200" />
                                </div>
                            </div>
                            
                            <!-- Á¨¨‰∫åË°åÔºöÈ´òÁ∫ßÂèÇÊï∞ -->
                            <div class="parameter-row">
                                <div class="form-group compact">
                                    <label class="form-label" data-i18n="blur_kernel_size">È´òÊñØÊ®°Á≥äÊ†∏</label>
                                    <select id="blurKernelSizeInput" class="form-control compact">
                                        <option value="0" data-i18n="none">Êó†</option>
                                        <option value="3">3√ó3</option>
                                        <option value="5" selected>5√ó5</option>
                                        <option value="7">7√ó7</option>
                                        <option value="9">9√ó9</option>
                                    </select>
                                </div>
                                <div class="form-group compact">
                                    <label class="form-label" data-i18n="quality_check_level">Ë¥®ÈáèÊ£ÄÊµãÁ∫ßÂà´</label>
                                    <select id="qualityCheckLevelInput" class="form-control compact">
                                        <option value="0" data-i18n="strict_quality">‰∏•Ê†º</option>
                                        <option value="1" selected data-i18n="balanced_quality">Âπ≥Ë°°</option>
                                        <option value="2" data-i18n="permissive_quality">ÂÆΩÊùæ</option>
                                    </select>
                                </div>
                                <div class="form-group compact">
                                    <button id="setBoardSizeBtn" class="btn btn-secondary btn-sm">
                                        <span data-i18n="apply_parameters">Â∫îÁî®ÂèÇÊï∞</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ê†áÂÆöÁä∂ÊÄÅ‰ø°ÊÅØ -->
                        <div class="calibration-status-info">
                            <div class="info-item">
                                <span class="info-label" data-i18n="current_session_images">ÂΩìÂâç‰ºöËØù:</span>
                                <span id="currentSessionImagesCount" class="info-value">0 Âº†</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label" data-i18n="saved_images_count">ÂéÜÂè≤‰øùÂ≠ò:</span>
                                <span id="savedImagesCount" class="info-value">0 Âº†</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label" data-i18n="reprojection_error">ÈáçÊäïÂΩ±ËØØÂ∑Æ:</span>
                                <span id="calibrationErrorDisplay" class="info-value">-</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="control-panel">
                    <div class="control-section compact">
                        <h3 class="mb-2" data-i18n="camera_settings">ÊëÑÂÉèÂ§¥ËÆæÁΩÆ</h3>
                        <div class="resolution-info">
                            <div class="resolution-item">
                                <span class="info-label" data-i18n="display_resolution">ÊòæÁ§∫ÂàÜËæ®Áéá:</span>
                                <span id="displayResolution" class="info-value">960√ó540</span>
                            </div>
                            <div class="resolution-item">
                                <span class="info-label" data-i18n="detection_resolution">Ê£ÄÊµãÂàÜËæ®Áéá:</span>
                                <span id="detectionResolution" class="info-value">1920√ó1080</span>
                            </div>
                            <div class="resolution-item">
                                <span class="info-label" data-i18n="performance_mode">ÊÄßËÉΩÊ®°Âºè:</span>
                                <span id="performanceMode" class="info-value status-dual">ÂèåÂàÜËæ®Áéá</span>
                            </div>
                        </div>
                    </div>
                    
                    <hr class="section-divider">
                    
                    <div class="control-section">
                        <h3 class="mb-2" data-i18n="camera_intrinsic_calibration">Áõ∏Êú∫ÂÜÖÂèÇÊ†áÂÆö</h3>
                        <p class="section-description compact" data-i18n="camera_calibration_desc">Áî®‰∫éÊ∂àÈô§ÈïúÂ§¥Áï∏ÂèòÔºåÊèêÈ´òÊµãÈáèÁ≤æÂ∫¶</p>
                        
                        <!-- Ê†áÂÆöÊµÅÁ®ãËØ¥Êòé -->
                        <div class="calibration-flow-info">
                            <small class="flow-text" data-i18n="calibration_flow">
                                ÊµÅÁ®ã: 1.ËÆæÁΩÆÂèÇÊï∞ ‚Üí 2.ËøõÂÖ•Ê†áÂÆöÊ®°Âºè ‚Üí 3.ÈááÈõÜÂõæÁâá ‚Üí 4.ÊâßË°åÊ†áÂÆö ‚Üí 5.‰øùÂ≠òÁªìÊûú
                            </small>
                        </div>
                        
                        <!-- Ê†áÂÆöÊìç‰ΩúÊåâÈíÆ - ÁÆÄÂåñÂ∏ÉÂ±Ä -->
                        <div class="calibration-operations mb-3">
                            <!-- ‰∏ªË¶ÅÊìç‰ΩúÊåâÈíÆ -->
                            <div class="control-row mb-2">
                                <button id="toggleCameraCalibrationBtn" class="btn btn-primary">
                                    <span data-i18n="camera_calibration_mode">Áõ∏Êú∫Ê†áÂÆöÊ®°Âºè</span>
                                </button>
                                <button id="addCalibrationImageBtn" class="btn btn-success" disabled>
                                    <span data-i18n="manual_capture_image">ÊâãÂä®ÈááÈõÜ</span>
                                </button>
                            </div>
                            
                            <!-- Ëá™Âä®ÈááÈõÜÂå∫Âüü -->
                            <div class="auto-capture-section mb-3">
                                <h5 data-i18n="auto_capture_settings">Ëá™Âä®ÈááÈõÜËÆæÁΩÆ</h5>
                                <div class="control-row mb-2">
                                    <div class="form-group">
                                        <label class="form-label" data-i18n="auto_capture_time">Êó∂Èó¥(Áßí)</label>
                                        <input type="number" id="autoCaptureTimeInput" value="10" class="form-control compact" min="1" max="60" />
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" data-i18n="auto_capture_interval">Èó¥Èöî(ÊØ´Áßí)</label>
                                        <input type="number" id="autoCaptureIntervalInput" value="500" class="form-control compact" min="100" max="2000" />
                                    </div>
                                </div>
                                <div class="control-row mb-2">
                                    <button id="startAutoCalibrationBtn" class="btn btn-success" disabled>
                                        <span data-i18n="start_auto_capture">ÂºÄÂßãËá™Âä®ÈááÈõÜ</span>
                                    </button>
                                    <button id="stopAutoCalibrationBtn" class="btn btn-danger" disabled>
                                        <span data-i18n="stop_auto_capture">ÂÅúÊ≠¢ÈááÈõÜ</span>
                                    </button>
                                </div>
                                <!-- ÂÄíËÆ°Êó∂ÊòæÁ§∫Âå∫Âüü -->
                                <div id="countdownDisplay" class="countdown-display" style="display: none;">
                                    <div class="countdown-item">
                                        <span class="countdown-label" data-i18n="remaining_time">Ââ©‰ΩôÊó∂Èó¥:</span>
                                        <span id="remainingTime" class="countdown-value">0s</span>
                                    </div>
                                    <div class="countdown-item">
                                        <span class="countdown-label" data-i18n="next_capture_in">‰∏ãÊ¨°ÈááÈõÜ:</span>
                                        <span id="nextCaptureTime" class="countdown-value">0s</span>
                                    </div>
                                    <div class="countdown-item">
                                        <span class="countdown-label" data-i18n="capture_progress">ÈááÈõÜËøõÂ∫¶:</span>
                                        <span id="captureProgress" class="countdown-value">0%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Ê†áÂÆöÊâßË°åÂíå‰øùÂ≠ò -->
                            <div class="control-row mb-2">
                                <button id="performCameraCalibrationBtn" class="btn btn-success" disabled>
                                    <span data-i18n="perform_calibration">ÊâßË°åÊ†áÂÆö</span>
                                </button>
                                <button id="saveCameraCalibrationBtn" class="btn btn-secondary" disabled>
                                    <span data-i18n="save_calibration">‰øùÂ≠òÊ†áÂÆö</span>
                                </button>
                                <button id="loadCameraCalibrationBtn" class="btn btn-primary">
                                    <span data-i18n="load_calibration">Âä†ËΩΩÊ†áÂÆö</span>
                                </button>
                            </div>
                            
                            <!-- Áõ∏Êú∫Ê†°Ê≠£ÊéßÂà∂ -->
                            <div class="control-row mb-2">
                                <div class="camera-correction-control">
                                    <label class="switch-container">
                                        <input type="checkbox" id="enableCameraCorrectionToggle" disabled>
                                        <span class="switch-slider"></span>
                                        <span class="switch-label" data-i18n="enable_camera_correction">ÂêØÁî®Áõ∏Êú∫Ê†°Ê≠£</span>
                                    </label>
                                    <div id="correctionStatus" class="correction-status">
                                        <span class="status-text" data-i18n="correction_inactive">Ê†°Ê≠£Êú™ÊøÄÊ¥ª</span>
                                    </div>
                                </div>
                            </div>
                            

                        </div>
                        

                        

                    </div>
                    
                    <hr class="section-divider">
                    
                    <div class="control-section">
                        <h3 class="mb-2" data-i18n="homography_matrix_calibration">ÂçïÂ∫îÊÄßÁü©ÈòµÊ†áÂÆö</h3>
                        <p class="section-description" data-i18n="homography_calibration_desc">ÈÄöËøáÂú∞Èù¢Ê†ºÂ≠ê‰∫§ÂèâÁÇπËøõË°åÂõæÂÉè‰∏éÂú∞Èù¢ÂùêÊ†áÁöÑËΩ¨Êç¢Áü©ÈòµÊ†áÂÆö</p>
                        <div class="control-row">
                            <button id="toggleCalibrationBtn" class="btn btn-primary">
                                <span data-i18n="enter_calibration_mode">ËøõÂÖ•Ê†áÂÆöÊ®°Âºè</span>
                            </button>
                            <button id="computeHomographyBtn" class="btn btn-success" disabled>
                                <span data-i18n="compute_homography">ËÆ°ÁÆóÂçïÂ∫îÊÄßÁü©Èòµ</span>
                            </button>
                        </div>
                    </div>
                    
                    <hr class="section-divider">
                    
                    <div class="control-section">
                        <h3 class="mb-2" data-i18n="aruco_testing_verification">ArUco ÊµãËØïÈ™åËØÅ</h3>
                        <p class="section-description" data-i18n="aruco_testing_desc">‰ΩøÁî®ArUcoÊ†áËÆ∞È™åËØÅÂçïÂ∫îÊÄßÁü©ÈòµÊ†áÂÆöÁªìÊûúÁöÑÂáÜÁ°ÆÊÄß</p>
                        <div class="control-row">
                            <button id="toggleArUcoBtn" class="btn btn-primary">
                                <span data-i18n="enable_aruco_testing">ÂêØÁî® ArUco ÊµãËØï</span>
                            </button>
                            <button id="showArUcoGuideBtn" class="btn btn-info">
                                <span data-i18n="show_aruco_guide">ÊòæÁ§∫‰ΩøÁî®ÊåáÂçó</span>
                            </button>
                        </div>
                        
                        <!-- ArUco ÊµãËØïÁä∂ÊÄÅÊòæÁ§∫ -->
                        <div id="arucoTestingStatus" class="aruco-testing-status mt-2" style="display: none;">
                            <div class="status-card">
                                <h5>üìç Ê£ÄÊµãÁä∂ÊÄÅ</h5>
                                <div class="status-info">
                                    <span class="status-label">Ê£ÄÊµãÂà∞ÁöÑÊ†áËÆ∞Ôºö</span>
                                    <span id="detectedMarkersTestCount" class="status-value">0</span>
                                </div>
                                <div class="status-info">
                                    <span class="status-label">Áü©ÈòµÁä∂ÊÄÅÔºö</span>
                                    <span id="homographyStatusTest" class="status-value">Êú™Ê†áÂÆö</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <hr class="section-divider">
                    
                    <div class="control-section">
                        <h3 class="mb-2" data-i18n="coordinate_system">ÂùêÊ†áÁ≥ªËÆæÁΩÆ</h3>
                        <div class="control-row">
                            <button id="setOriginBtn" class="btn btn-primary">
                                <span data-i18n="set_origin">ËÆæÁΩÆÂéüÁÇπ</span>
                            </button>
                            <button id="toggleCoordTypeBtn" class="btn btn-secondary">
                                <span data-i18n="toggle_coord_type">ÂàáÊç¢ÂùêÊ†áÁ±ªÂûã</span>
                            </button>
                        </div>
                        <div class="coordinate-system-info mt-2">
                            <div class="info-item">
                                <span class="info-label" data-i18n="coord_type">ÂùêÊ†áÁ±ªÂûã:</span>
                                <span id="coordTypeDisplay" class="info-value">Áõ¥ËßíÂùêÊ†á</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label" data-i18n="origin_position">ÂéüÁÇπ‰ΩçÁΩÆ:</span>
                                <span id="originDisplay" class="info-value">(0, 0)</span>
                            </div>
                        </div>
                    </div>
                    
                    <hr class="section-divider">
                    
                    <div class="control-section">
                        <h3 class="mb-2" data-i18n="debug_information">Ë∞ÉËØï‰ø°ÊÅØ</h3>
                        <div class="debug-panel">
                            <div class="debug-toggle">
                                <label class="switch">
                                    <input type="checkbox" id="debugToggle">
                                    <span class="slider round"></span>
                                </label>
                                <span data-i18n="show_debug_info">ÊòæÁ§∫Ë∞ÉËØï‰ø°ÊÅØ</span>
                            </div>
                            <div id="debugInfo" class="debug-info" style="display: none;">
                                <div class="info-item">
                                    <span class="info-label" data-i18n="homography_matrix">ÂçïÂ∫îÊÄßÁü©Èòµ:</span>
                                    <pre id="homographyMatrix" class="info-value matrix">-</pre>
                                    <button id="exportMatrixBtn" class="btn btn-sm btn-secondary">
                                        <span data-i18n="export_matrix">ÂØºÂá∫Áü©Èòµ</span>
                                    </button>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-i18n="detected_markers">Ê£ÄÊµãÂà∞ÁöÑÊ†áËÆ∞:</span>
                                    <span id="detectedMarkersCount" class="info-value">0</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-i18n="last_operation">ÊúÄËøëÊìç‰Ωú:</span>
                                    <span id="lastOperation" class="info-value">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="calibrationPanel" class="calibration-panel" style="display: none;">
                <div class="calibration-header">
                    <h3>üìê ÂçïÂ∫îÊÄßÁü©ÈòµÊ†áÂÆö</h3>
                    <button id="calibrationFullscreenBtn" class="calibration-fullscreen-btn" title="ÂÖ®Â±èÊ®°Âºè - ÊèêÈ´òÁÇπÂáªÈÄâÊã©Á≤æÂ∫¶">
                        <span class="fullscreen-icon">‚õ∂</span>
                        <span class="fullscreen-text">ÂÖ®Â±è</span>
                    </button>
                </div>
                <p>üí° <strong>‰ΩøÁî®ËØ¥Êòé</strong>ÔºöÁÇπÂáªËßÜÈ¢ë‰∏≠ÁöÑÂú∞Èù¢Ê†ºÂ≠ê‰∫§ÂèâÁÇπÔºåÁÑ∂ÂêéËæìÂÖ•ËØ•ÁÇπÁöÑÂÆûÈôÖÂú∞Èù¢ÂùêÊ†á„ÄÇËá≥Â∞ëÈúÄË¶Å 4 ‰∏™ÁÇπ„ÄÇ</p>
                
                <div class="calibration-controls">
                    <div class="ground-coordinates">
                        <label>Âú∞Èù¢ÂùêÊ†á X (ÊØ´Á±≥):</label>
                        <input type="number" id="groundX" class="form-input" value="0" placeholder="‰æãÂ¶Ç: 0">
                        <label>Âú∞Èù¢ÂùêÊ†á Y (ÊØ´Á±≥):</label>
                        <input type="number" id="groundY" class="form-input" value="0" placeholder="‰æãÂ¶Ç: 0">
                    </div>
                    
                    <div class="calibration-buttons">
                        <button id="removeLastPointBtn" class="btn btn-danger">ÁßªÈô§ÊúÄÂêé‰∏Ä‰∏™ÁÇπ</button>
                        <button id="clearPointsBtn" class="btn btn-danger">Ê∏ÖÈô§ÊâÄÊúâÁÇπ</button>
                    </div>
                    
                    <div class="calibration-file">
                        <button id="saveCalibrationBtn" class="btn btn-success">‰øùÂ≠òÁü©ÈòµÊñá‰ª∂</button>
                        <button id="loadCalibrationBtn" class="btn btn-primary">Âä†ËΩΩÁü©ÈòµÊñá‰ª∂</button>
                    </div>
                </div>
                
                <div class="calibration-points">
                    <h4>üìç Ê†áÂÆöÁÇπÂàóË°®</h4>
                    <div id="pointsList"></div>
                </div>
                
                <!-- Ê†áÂÆöÂª∫ËÆÆ -->
                <div class="calibration-tips mt-3">
                    <h5>üí° Ê†áÂÆöÂª∫ËÆÆ</h5>
                    <ul>
                        <li><strong>‰øùÊåÅ1920√ó1080ÂàÜËæ®Áéá</strong>ÔºåÁ°Æ‰øùÂçïÂ∫îÊÄßÁü©ÈòµËÆ°ÁÆóÁ≤æÂ∫¶</li>
                        <li>ÈÄâÊã©Âú∞Èù¢Ê†ºÂ≠êÁöÑ‰∫§ÂèâÁÇπ‰Ωú‰∏∫Ê†áÂÆöÁÇπÔºå‰ΩçÁΩÆÊõ¥ÂáÜÁ°Æ</li>
                        <li>Ê†áÂÆöÁÇπÂ∫îÂ∞ΩÈáèÂàÜÂ∏ÉÂú®ÁîªÈù¢ÁöÑÂõõ‰∏™ËßíËêΩÂíå‰∏≠ÂøÉ</li>
                        <li>ÊµãÈáèÂú∞Èù¢ÂùêÊ†áÊó∂Ë¶Å‰øùÊåÅ‰∏ÄËá¥ÁöÑÂùêÊ†áÁ≥ª</li>
                        <li>Âª∫ËÆÆ‰ΩøÁî®Ëá≥Â∞ë6-8‰∏™Ê†áÂÆöÁÇπ‰ª•ÊèêÈ´òÁ≤æÂ∫¶</li>
                        <li><strong>ÁÇπÂáª‰∏äÊñπÂÖ®Â±èÊåâÈíÆ</strong>ÔºåÊèêÈ´òÁÇπÂáªÈÄâÊã©Á≤æÂ∫¶</li>
                    </ul>
                </div>
            </div>
            
            <div id="arucoPanel" class="aruco-panel" style="display: none;">
                <h3>üéØ ArUco ÊµãËØïÈ™åËØÅ</h3>
                <p>üí° <strong>‰ΩøÁî®ËØ¥Êòé</strong>ÔºöÂú®ÁîªÈù¢‰∏≠ÊîæÁΩÆArUcoÊ†áËÆ∞ÔºåÁ≥ªÁªüÂ∞ÜÊòæÁ§∫ÂÖ∂Ê£ÄÊµã‰ø°ÊÅØÂíåËÆ°ÁÆóÂá∫ÁöÑÂú∞Èù¢ÂùêÊ†áÔºåÁî®‰∫éÈ™åËØÅÂçïÂ∫îÊÄßÁü©ÈòµÁöÑÂáÜÁ°ÆÊÄß„ÄÇ</p>
                
                <!-- ÊµãËØïÁä∂ÊÄÅÊòæÁ§∫ -->
                <div class="testing-status-display">
                    <div class="status-row">
                        <div class="status-item">
                            <span class="status-label">Áü©ÈòµÁä∂ÊÄÅÔºö</span>
                            <span id="matrixStatusDisplay" class="status-value matrix-not-ready">Êú™Ê†áÂÆö</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Ê£ÄÊµãÁä∂ÊÄÅÔºö</span>
                            <span id="detectionStatusDisplay" class="status-value">Á≠âÂæÖÊ£ÄÊµã</span>
                        </div>
                    </div>
                </div>
                
                <!-- Ê£ÄÊµãÂà∞ÁöÑÊ†áËÆ∞‰ø°ÊÅØ -->
                <div class="detected-markers-info">
                    <h4>üìã Ê£ÄÊµãÁªìÊûú</h4>
                    <div id="markersDetectionList" class="markers-list">
                        <p class="no-markers">ÊöÇÊú™Ê£ÄÊµãÂà∞ArUcoÊ†áËÆ∞</p>
                    </div>
                </div>
                
                <!-- ArUco Ê£ÄÊµãÂèÇÊï∞ËÆæÁΩÆ -->
                <div class="aruco-detection-settings">
                    <h4>‚öôÔ∏è Ê£ÄÊµãÂèÇÊï∞ËÆæÁΩÆ</h4>
                    <div class="detection-params-grid">
                        <div class="form-group">
                            <label>Ëá™ÈÄÇÂ∫îÈòàÂÄºÁ™óÂè£ÊúÄÂ∞èÂÄº:</label>
                            <input type="number" id="arucoAdaptiveThreshWinSizeMin" class="form-input" min="3" max="15" value="3">
                        </div>
                        <div class="form-group">
                            <label>Ëá™ÈÄÇÂ∫îÈòàÂÄºÁ™óÂè£ÊúÄÂ§ßÂÄº:</label>
                            <input type="number" id="arucoAdaptiveThreshWinSizeMax" class="form-input" min="15" max="50" value="35">
                        </div>
                        <div class="form-group">
                            <label>Ëá™ÈÄÇÂ∫îÈòàÂÄºÁ™óÂè£Ê≠•Èïø:</label>
                            <input type="number" id="arucoAdaptiveThreshWinSizeStep" class="form-input" min="1" max="20" value="5">
                        </div>
                        <div class="form-group">
                            <label>Ëá™ÈÄÇÂ∫îÈòàÂÄºÂ∏∏Êï∞:</label>
                            <input type="number" id="arucoAdaptiveThreshConstant" class="form-input" min="1" max="20" step="0.1" value="5">
                        </div>
                        <div class="form-group">
                            <label>ËßíÁÇπ‰ºòÂåñÊñπÊ≥ï:</label>
                            <select id="arucoCornerRefinementMethod" class="form-input">
                                <option value="0">Êó†‰ºòÂåñ</option>
                                <option value="1" selected>‰∫öÂÉèÁ¥†‰ºòÂåñ</option>
                                <option value="2">ËΩÆÂªì‰ºòÂåñ</option>
                            </select>
                        </div>
                    </div>
                    <div class="params-buttons">
                        <button id="setArucoParamsBtn" class="btn btn-secondary">Â∫îÁî®Ê£ÄÊµãÂèÇÊï∞</button>
                        <button id="resetArucoParamsBtn" class="btn btn-secondary">ÈáçÁΩÆ‰∏∫ÈªòËÆ§ÂÄº</button>
                    </div>
                </div>
                
                <!-- ‰ΩøÁî®ÊèêÁ§∫ -->
                <div class="testing-tips mt-3">
                    <h5>üìù ÊµãËØïÊèêÁ§∫</h5>
                    <ul>
                        <li>Á°Æ‰øùÂ∑≤ÂÆåÊàêÂçïÂ∫îÊÄßÁü©ÈòµÊ†áÂÆöÊàñÂä†ËΩΩ‰∫ÜÁü©ÈòµÊñá‰ª∂</li>
                        <li>Â∞ÜArUcoÊ†áËÆ∞ÊîæÁΩÆÂú®Âú∞Èù¢ÁöÑÂ∑≤Áü•‰ΩçÁΩÆËøõË°åÈ™åËØÅ</li>
                        <li>Ê†áËÆ∞Ê£ÄÊµã‰ø°ÊÅØÂåÖÊã¨ÔºöID„ÄÅËßíÁÇπÂùêÊ†á„ÄÅ‰∏≠ÂøÉÁÇπÂùêÊ†á</li>
                        <li>Á≥ªÁªü‰ºöËá™Âä®ËÆ°ÁÆóÂπ∂ÊòæÁ§∫Ê†áËÆ∞ÁöÑÂú∞Èù¢ÂùêÊ†á</li>
                        <li>ÈÄöËøáÊØîËæÉËÆ°ÁÆóÂùêÊ†á‰∏éÂÆûÈôÖÂùêÊ†áÊù•È™åËØÅÊ†áÂÆöÁ≤æÂ∫¶</li>
                    </ul>
                </div>
            </div>
            
            <div id="coordinateTestPanel" class="coordinate-test-panel" style="display: none;">
                <h3>ÂùêÊ†áËΩ¨Êç¢ÊµãËØï</h3>
                <p>ÁÇπÂáªËßÜÈ¢ëÂ∞ÜÂõæÂÉèÂùêÊ†áËΩ¨Êç¢‰∏∫Âú∞Èù¢ÂùêÊ†á„ÄÇ</p>
                
                <div class="coordinate-display">
                    <div>
                        <span>ÂõæÂÉè X:</span>
                        <span id="imageX">0</span>
                    </div>
                    <div>
                        <span>ÂõæÂÉè Y:</span>
                        <span id="imageY">0</span>
                    </div>
                    <div>
                        <span>Âú∞Èù¢ X:</span>
                        <span id="convertedGroundX">0</span>
                    </div>
                    <div>
                        <span>Âú∞Èù¢ Y:</span>
                        <span id="convertedGroundY">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ê∑ªÂä†‰∏Ä‰∫õÂü∫Á°ÄÁöÑË∞ÉËØïËæìÂá∫
        console.log('HTML script block loaded, timestamp:', new Date().toISOString());
        console.log('Document ready state:', document.readyState);
    </script>
    
    <!-- È¶ñÂÖàÂä†ËΩΩÂ§öËØ≠Ë®ÄÊîØÊåÅ -->
    <script src="i18n.js"></script>
    <!-- ÁÑ∂ÂêéÂä†ËΩΩ‰∏ªÁ®ãÂ∫è -->
    <script src="script.js"></script>

    <!-- Êìç‰ΩúÊåáÂçóÈù¢Êùø - ÊîæÂú®È°µÈù¢Â∫ïÈÉ® -->
    <div id="operationGuide" class="operation-guide-bottom">
        <div class="guide-header">
            <h4>üìã VideoMapping Êìç‰ΩúÊåáÂçó</h4>
            <button id="closeGuideBtn" class="close-guide-btn">√ó</button>
        </div>
        <div class="guide-content">
            <div class="guide-grid">
                <div class="guide-section">
                    <strong>üî¥ ArUcoÊ†áËÆ∞Ê£ÄÊµã</strong>
                    <ul>
                        <li><span class="highlight">ÊµãÈáèÁÇπ</span>ÔºöÊµãÈáèËìùËâ≤‰∏≠ÂøÉÁÇπÔºàCenterÔºâÂà∞Âú∞Èù¢ÂùêÊ†áÂéüÁÇπÁöÑË∑ùÁ¶ª</li>
                        <li><span class="highlight">Âõõ‰∏™ËßíÁÇπ</span>ÔºöÁ∫¢Ëâ≤ÂúÜÂúàÊ†áËÆ∞ÔºåÊúÄÂ§ßÁöÑ"O"ÊòØArUcoÂéüÁÇπ</li>
                        <li><span class="highlight">ÁªøËâ≤ID</span>ÔºöÊ†áËÆ∞ËØÜÂà´Âè∑</li>
                        <li><span class="highlight">ÂùêÊ†áËΩ¥</span>ÔºöÁ∫¢Ëâ≤XËΩ¥ÔºåËìùËâ≤YËΩ¥</li>
                    </ul>
                    
                    <strong>ËøúË∑ùÁ¶ª‰ºòÂåñÔºö</strong>
                    <span class="optimization-tips">ÊúÄÂ§ßÁ™óÂè£35‚Üí50ÔºåÊ≠•Èïø5‚Üí3ÔºåÂ∏∏Êï∞5‚Üí3</span>
                </div>
                
                <div class="guide-section">
                    <strong>üìê Áõ∏Êú∫ÂÜÖÂèÇÊ†áÂÆö</strong>
                    <ul>
                        <li><span class="highlight">ÂáÜÂ§á</span>ÔºöÊâìÂç∞Ê£ãÁõòÊ†ºÔºàÊé®Ëçê8√ó5ÂÜÖËßíÁÇπÔºâ</li>
                        <li><span class="highlight">ÈááÈõÜ</span>ÔºöËøõÂÖ•Ê†áÂÆöÊ®°ÂºèÔºåÂ§öËßíÂ∫¶ÊãçÊëÑ15-20Âº†</li>
                        <li><span class="highlight">Ê†áÂÆö</span>ÔºöÊâßË°åÊ†áÂÆöÔºåÈáçÊäïÂΩ±ËØØÂ∑Æ<0.5‰∏∫‰ºòÁßÄ</li>
                        <li><span class="highlight">Â∫îÁî®</span>Ôºö‰øùÂ≠òÁªìÊûúÔºåÂêØÁî®Ê†°Ê≠£ÂäüËÉΩ</li>
                    </ul>
                    
                    <strong>Ë¥®ÈáèÊèêÁ§∫Ôºö</strong>
                    <span class="optimization-tips">Ë¶ÜÁõñÂÖ®ÁîªÈù¢ÔºåÈÅøÂÖçÊ®°Á≥äÔºåÂ§öÁßçËßíÂ∫¶</span>
                </div>
                
                <div class="guide-section">
                    <strong>üìù Êìç‰ΩúÊµÅÁ®ã</strong>
                    <ol>
                        <li>Áõ∏Êú∫Ê†áÂÆö ‚Üí Ê∂àÈô§Áï∏Âèò</li>
                        <li>ArUcoÊ£ÄÊµã ‚Üí Ëá™Âä®Ê†áÂÆö</li>
                        <li>ÂùêÊ†áÊµãËØï ‚Üí È™åËØÅÁ≤æÂ∫¶</li>
                    </ol>
                    
                    <div class="important-note">
                        <strong>‚ö†Ô∏è ÈáçË¶ÅÔºö</strong>ÊµãÈáèArUcoÊ†áËÆ∞Êó∂ÔºåËØ∑ÊµãÈáè<strong>ËìùËâ≤‰∏≠ÂøÉÁÇπ</strong>Âà∞Âú∞Èù¢ÂùêÊ†áÂéüÁÇπÁöÑË∑ùÁ¶ªÔºå‰∏çÊòØËßíÁÇπÔºÅ
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
